{"ast":null,"code":"import _objectSpread from\"/home/atharnex/mycloneprojects/mailflow/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _taggedTemplateLiteral from\"/home/atharnex/mycloneprojects/mailflow/client/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";var _templateObject,_templateObject2,_templateObject3,_templateObject4;import{useState}from'react';import{Dialog,styled,Typography,Box,InputBase,TextField,Button}from'@mui/material';import{Close,DeleteOutline}from'@mui/icons-material';import useApi from'../hooks/useApi';import{API_URLS}from'../services/api.urls';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const dialogStyle={height:'90%',width:'80%',maxWidth:'100%',maxHeight:'100%',boxShadow:'none',borderRadius:'10px 10px 0 0'};const Header=styled(Box)(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n    display: flex;\\n    justify-content: space-between;\\n    padding: 10px 15px;\\n    background: #f2f6fc;\\n    & > p {\\n        font-size: 14px;\\n        font-weight: 500;\\n    }\\n\"])));const RecipientWrapper=styled(Box)(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n    display: flex;\\n    flex-direction: column;\\n    padding: 0 15px;\\n    & > div {\\n        font-size: 14px;\\n        border-bottom: 1px solid #F5F5F5;\\n        margin-top: 10px;\\n    }\\n\"])));const Footer=styled(Box)(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\\n    display: flex;\\n    justify-content: space-between;\\n    padding: 10px 15px;\\n    align-items: center;\\n\"])));const SendButton=styled(Button)(_templateObject4||(_templateObject4=_taggedTemplateLiteral([\"\\n    background: #0B57D0;\\n    color: #fff;\\n    font-weight: 500;\\n    text-transform: none;\\n    border-radius: 18px;\\n    width: 100px;\\n\"])));const ComposeMail=_ref=>{let{open,setOpenDrawer}=_ref;const[data,setData]=useState({});const sentEmailService=useApi(API_URLS.saveSentEmails);const saveDraftService=useApi(API_URLS.saveDraftEmails);const config={Username:process.env.REACT_APP_USERNAME,Password:process.env.REACT_APP_PASSWORD,Host:'smtp.elasticemail.com',Port:2525};const onValueChange=e=>{setData(_objectSpread(_objectSpread({},data),{},{[e.target.name]:e.target.value}));};const sendEmail=async e=>{e.preventDefault();if(window.Email){window.Email.send(_objectSpread(_objectSpread({},config),{},{To:data.to,From:\"codeforinterview03@gmail.com\",Subject:data.subject,Body:data.body})).then(message=>alert(message));}const createPayload=type=>{return{to:data.to,from:\"athar.dev@example.com\",subject:data.subject,body:data.body,date:new Date(),image:'',name:'Code for Interview',starred:false,type:type};};const payload=createPayload('sent');sentEmailService.call(payload);if(!sentEmailService.error){setOpenDrawer(false);setData({});}else{}};const closeComposeMail=e=>{e.preventDefault();const payload=createPayload('drafts');saveDraftService.call(payload);if(!saveDraftService.error){setOpenDrawer(false);setData({});}else{}};return/*#__PURE__*/_jsxs(Dialog,{open:open,PaperProps:{sx:dialogStyle},children:[/*#__PURE__*/_jsxs(Header,{children:[/*#__PURE__*/_jsx(Typography,{children:\"New Message\"}),/*#__PURE__*/_jsx(Close,{fontSize:\"small\",onClick:e=>closeComposeMail(e)})]}),/*#__PURE__*/_jsxs(RecipientWrapper,{children:[/*#__PURE__*/_jsx(InputBase,{placeholder:\"Recipients\",name:\"to\",onChange:e=>onValueChange(e),value:data.to}),/*#__PURE__*/_jsx(InputBase,{placeholder:\"Subject\",name:\"subject\",onChange:e=>onValueChange(e),value:data.subject})]}),/*#__PURE__*/_jsx(TextField,{multiline:true,rows:20,sx:{'& .MuiOutlinedInput-notchedOutline':{border:'none'}},name:\"body\",onChange:e=>onValueChange(e),value:data.body}),/*#__PURE__*/_jsxs(Footer,{children:[/*#__PURE__*/_jsx(SendButton,{onClick:e=>sendEmail(e),children:\"Dispatch\"}),/*#__PURE__*/_jsx(DeleteOutline,{onClick:()=>setOpenDrawer(false)})]})]});};export default ComposeMail;","map":{"version":3,"names":["useState","Dialog","styled","Typography","Box","InputBase","TextField","Button","Close","DeleteOutline","useApi","API_URLS","jsx","_jsx","jsxs","_jsxs","dialogStyle","height","width","maxWidth","maxHeight","boxShadow","borderRadius","Header","_templateObject","_taggedTemplateLiteral","RecipientWrapper","_templateObject2","Footer","_templateObject3","SendButton","_templateObject4","ComposeMail","_ref","open","setOpenDrawer","data","setData","sentEmailService","saveSentEmails","saveDraftService","saveDraftEmails","config","Username","process","env","REACT_APP_USERNAME","Password","REACT_APP_PASSWORD","Host","Port","onValueChange","e","_objectSpread","target","name","value","sendEmail","preventDefault","window","Email","send","To","to","From","Subject","subject","Body","body","then","message","alert","createPayload","type","from","date","Date","image","starred","payload","call","error","closeComposeMail","PaperProps","sx","children","fontSize","onClick","placeholder","onChange","multiline","rows","border"],"sources":["/home/atharnex/mycloneprojects/mailflow/client/src/components/ComposeMail.jsx"],"sourcesContent":["import { useState } from 'react';\n\nimport { Dialog, styled, Typography, Box, InputBase, TextField, Button } from '@mui/material'; \nimport { Close, DeleteOutline } from '@mui/icons-material';\nimport useApi from '../hooks/useApi';\nimport { API_URLS } from '../services/api.urls';\n\nconst dialogStyle = {\n    height: '90%',\n    width: '80%',\n    maxWidth: '100%',\n    maxHeight: '100%',\n    boxShadow: 'none',\n    borderRadius: '10px 10px 0 0',\n}\n\nconst Header = styled(Box)`\n    display: flex;\n    justify-content: space-between;\n    padding: 10px 15px;\n    background: #f2f6fc;\n    & > p {\n        font-size: 14px;\n        font-weight: 500;\n    }\n`;\n\nconst RecipientWrapper = styled(Box)`\n    display: flex;\n    flex-direction: column;\n    padding: 0 15px;\n    & > div {\n        font-size: 14px;\n        border-bottom: 1px solid #F5F5F5;\n        margin-top: 10px;\n    }\n`;\n\nconst Footer = styled(Box)`\n    display: flex;\n    justify-content: space-between;\n    padding: 10px 15px;\n    align-items: center;\n`;\n\nconst SendButton = styled(Button)`\n    background: #0B57D0;\n    color: #fff;\n    font-weight: 500;\n    text-transform: none;\n    border-radius: 18px;\n    width: 100px;\n`\n\nconst ComposeMail = ({ open, setOpenDrawer }) => {\n    const [data, setData] = useState({});\n    const sentEmailService = useApi(API_URLS.saveSentEmails);\n    const saveDraftService = useApi(API_URLS.saveDraftEmails);\n\n    const config = {\n        Username: process.env.REACT_APP_USERNAME,\n        Password: process.env.REACT_APP_PASSWORD,\n        Host: 'smtp.elasticemail.com',\n        Port: 2525,\n    }\n\n    const onValueChange = (e) => {\n        setData({ ...data, [e.target.name]: e.target.value })\n    }\n\n    const sendEmail = async (e) => {\n        e.preventDefault();\n\n        if (window.Email) {\n            window.Email.send({\n                ...config,\n                To : data.to,\n                From : \"codeforinterview03@gmail.com\",\n                Subject : data.subject,\n                Body : data.body\n            }).then(\n                message => alert(message)\n            );\n        }\n\n        const createPayload = (type) => {\n            return {\n                to : data.to,\n                from : \"athar.dev@example.com\",\n                subject : data.subject,\n                body : data.body,\n                date: new Date(),\n                image: '',\n                name: 'Code for Interview',\n                starred: false,\n                type: type\n            }\n        }\n\n        const payload = createPayload('sent');\n\n        sentEmailService.call(payload);\n\n        if (!sentEmailService.error) {\n            setOpenDrawer(false);\n            setData({});\n        } else {\n\n        }\n    }\n\n    const closeComposeMail = (e) => {\n        e.preventDefault();\n\n        const payload = createPayload('drafts');\n\n        saveDraftService.call(payload);\n\n        if (!saveDraftService.error) {\n            setOpenDrawer(false);\n            setData({});\n        } else {\n\n        }\n    }\n\n    return (\n        <Dialog\n            open={open}\n            PaperProps={{ sx: dialogStyle }}\n        >\n            <Header>\n                <Typography>New Message</Typography>\n                <Close fontSize=\"small\" onClick={(e) => closeComposeMail(e)} />\n            </Header>\n            <RecipientWrapper>\n                <InputBase placeholder='Recipients' name=\"to\" onChange={(e) => onValueChange(e)} value={data.to} />\n                <InputBase placeholder='Subject' name=\"subject\" onChange={(e) => onValueChange(e)} value={data.subject} />\n            </RecipientWrapper>\n            <TextField \n                multiline\n                rows={20}\n                sx={{ '& .MuiOutlinedInput-notchedOutline': { border: 'none' } }}\n                name=\"body\"\n                onChange={(e) => onValueChange(e)}\n                value={data.body}\n            />\n            <Footer>\n                <SendButton onClick={(e) => sendEmail(e)}>Dispatch</SendButton>\n                <DeleteOutline onClick={() => setOpenDrawer(false)} />\n            </Footer>\n        </Dialog>\n    )\n}\n\nexport default ComposeMail;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}